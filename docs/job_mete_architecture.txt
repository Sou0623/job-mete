# ğŸ—ï¸ Job Mete ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ›¸ v1.5

---

## 1. ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“æ§‹æˆ

### 1.1 ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå±¤                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         React SPA (TypeScript + Tailwind CSS)       â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚   â”‚
â”‚  â”‚  â”‚ Pages    â”‚ â”‚Componentsâ”‚ â”‚ Hooks    â”‚           â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚   â”‚
â”‚  â”‚  â”‚ Context  â”‚ â”‚ Services â”‚ â”‚ Utils    â”‚           â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ â†‘
              Firebase SDK / HTTPS Callable
                            â†“ â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Firebase Platform                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Authenticationâ”‚  â”‚  Firestore   â”‚  â”‚  Functions   â”‚     â”‚
â”‚  â”‚  (Google)    â”‚  â”‚  (NoSQL DB)  â”‚  â”‚ (Node.js)    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ â†‘
                    External API Calls
                            â†“ â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       å¤–éƒ¨APIå±¤                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚  Gemini API  â”‚  â”‚Google Calendarâ”‚                       â”‚
â”‚  â”‚(w/ Search)   â”‚  â”‚     API       â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ç‰¹å¾´

**æ¡ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³:** ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ + BFF (Backend For Frontend)

**ä¸»è¦ãªè¨­è¨ˆåˆ¤æ–­:**
1. **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰:** React SPAã§é«˜é€Ÿãªãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’æä¾›
2. **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰:** Firebase Functionsã§å¤–éƒ¨APIçµ±åˆã¨ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’åˆ†é›¢
3. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹:** Firestoreã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿åŒæœŸã¨ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã‚’ç¢ºä¿
4. **èªè¨¼:** Firebase Authenticationã§å®‰å…¨ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†

---

## 2. ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥è©³ç´°è¨­è¨ˆ

### 2.1 ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰

#### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
src/
â”œâ”€â”€ components/           # å†åˆ©ç”¨å¯èƒ½ãªUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ common/          # æ±ç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”œâ”€â”€ Input.tsx
â”‚   â”‚   â”œâ”€â”€ Modal.tsx
â”‚   â”‚   â”œâ”€â”€ Loading.tsx
â”‚   â”‚   â””â”€â”€ ErrorBoundary.tsx
â”‚   â”œâ”€â”€ layout/          # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”œâ”€â”€ Footer.tsx
â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â””â”€â”€ AppLayout.tsx
â”‚   â”œâ”€â”€ companies/       # ä¼æ¥­é–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ CompanyCard.tsx
â”‚   â”‚   â”œâ”€â”€ CompanyList.tsx
â”‚   â”‚   â”œâ”€â”€ CompanyDetail.tsx
â”‚   â”‚   â”œâ”€â”€ CompanyForm.tsx
â”‚   â”‚   â””â”€â”€ CompanyAnalysis.tsx
â”‚   â”œâ”€â”€ events/          # äºˆå®šé–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ EventCard.tsx
â”‚   â”‚   â”œâ”€â”€ EventList.tsx
â”‚   â”‚   â”œâ”€â”€ EventForm.tsx
â”‚   â”‚   â””â”€â”€ EventCalendar.tsx
â”‚   â””â”€â”€ trends/          # å‚¾å‘åˆ†æã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚       â”œâ”€â”€ TrendChart.tsx
â”‚       â”œâ”€â”€ IndustryPieChart.tsx
â”‚       â”œâ”€â”€ KeywordCloud.tsx
â”‚       â””â”€â”€ TrendSummary.tsx
â”‚
â”œâ”€â”€ pages/               # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ LoginPage.tsx
â”‚   â”œâ”€â”€ DashboardPage.tsx
â”‚   â”œâ”€â”€ CompaniesPage.tsx
â”‚   â”œâ”€â”€ CompanyDetailPage.tsx
â”‚   â”œâ”€â”€ EventsPage.tsx
â”‚   â”œâ”€â”€ TrendsPage.tsx
â”‚   â””â”€â”€ SettingsPage.tsx
â”‚
â”œâ”€â”€ hooks/               # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”œâ”€â”€ useCompanies.ts
â”‚   â”œâ”€â”€ useEvents.ts
â”‚   â”œâ”€â”€ useTrends.ts
â”‚   â””â”€â”€ useCalendarSync.ts
â”‚
â”œâ”€â”€ contexts/            # Reactã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ AuthContext.tsx
â”‚   â”œâ”€â”€ CompanyContext.tsx
â”‚   â””â”€â”€ NotificationContext.tsx
â”‚
â”œâ”€â”€ services/            # å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æº
â”‚   â”œâ”€â”€ firebase.ts
â”‚   â”œâ”€â”€ firestore.ts
â”‚   â”œâ”€â”€ functions.ts
â”‚   â””â”€â”€ analytics.ts
â”‚
â”œâ”€â”€ utils/               # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”‚   â”œâ”€â”€ dateFormatter.ts
â”‚   â”œâ”€â”€ normalizeCompanyName.ts
â”‚   â”œâ”€â”€ validation.ts
â”‚   â””â”€â”€ constants.ts
â”‚
â”œâ”€â”€ types/               # TypeScriptå‹å®šç¾©
â”‚   â”œâ”€â”€ company.ts
â”‚   â”œâ”€â”€ event.ts
â”‚   â”œâ”€â”€ trend.ts
â”‚   â””â”€â”€ user.ts
â”‚
â””â”€â”€ App.tsx              # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒˆ
```

#### ä¸»è¦æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| æŠ€è¡“ | ç”¨é€” | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ |
|-----|------|-----------|
| React | UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | 18.x |
| TypeScript | å‹å®‰å…¨æ€§ | 5.x |
| React Router | ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° | 6.x |
| Tailwind CSS | ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° | 3.x |
| Recharts | ã‚°ãƒ©ãƒ•è¡¨ç¤º | 2.x |
| Firebase SDK | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é€£æº | 10.x |
| date-fns | æ—¥ä»˜æ“ä½œ | 3.x |

#### çŠ¶æ…‹ç®¡ç†æˆ¦ç•¥

**æ¡ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³:** Context API + Custom Hooks

```typescript
// èªè¨¼çŠ¶æ…‹
AuthContext â†’ useAuth()
  â”œâ”€ user: User | null
  â”œâ”€ loading: boolean
  â”œâ”€ login()
  â””â”€ logout()

// ä¼æ¥­ãƒ‡ãƒ¼ã‚¿
useCompanies()
  â”œâ”€ companies: Company[]
  â”œâ”€ loading: boolean
  â”œâ”€ createCompany()
  â”œâ”€ updateCompany()
  â””â”€ deleteCompany()

// äºˆå®šãƒ‡ãƒ¼ã‚¿
useEvents()
  â”œâ”€ events: Event[]
  â”œâ”€ loading: boolean
  â”œâ”€ createEvent()
  â”œâ”€ updateEvent()
  â””â”€ deleteEvent()
```

---

### 2.2 ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å±¤ï¼ˆFirebase Functionsï¼‰

#### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
functions/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts                    # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ firebase.ts            # Firebase AdminåˆæœŸåŒ–
â”‚   â”‚   â”œâ”€â”€ gemini.ts              # Gemini APIè¨­å®š
â”‚   â”‚   â””â”€â”€ calendar.ts            # Calendar APIè¨­å®š
â”‚   â”‚
â”‚   â”œâ”€â”€ handlers/                   # å„ç¨®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
â”‚   â”‚   â”œâ”€â”€ companies/
â”‚   â”‚   â”‚   â”œâ”€â”€ createCompany.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ reanalyzeCompany.ts
â”‚   â”‚   â”‚   â””â”€â”€ deleteCompany.ts
â”‚   â”‚   â”œâ”€â”€ events/
â”‚   â”‚   â”‚   â”œâ”€â”€ createEvent.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ updateEvent.ts
â”‚   â”‚   â”‚   â””â”€â”€ deleteEvent.ts
â”‚   â”‚   â”œâ”€â”€ trends/
â”‚   â”‚   â”‚   â””â”€â”€ analyzeTrends.ts
â”‚   â”‚   â””â”€â”€ calendar/
â”‚   â”‚       â”œâ”€â”€ syncToCalendar.ts
â”‚   â”‚       â”œâ”€â”€ updateCalendarEvent.ts
â”‚   â”‚       â””â”€â”€ deleteCalendarEvent.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                   # å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹çµ±åˆ
â”‚   â”‚   â”œâ”€â”€ geminiService.ts       # Gemini APIå‘¼ã³å‡ºã—
â”‚   â”‚   â”œâ”€â”€ calendarService.ts     # Calendar APIå‘¼ã³å‡ºã—
â”‚   â”‚   â””â”€â”€ firestoreService.ts    # Firestoreæ“ä½œ
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                      # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â”œâ”€â”€ normalizer.ts          # ä¼æ¥­åæ­£è¦åŒ–
â”‚   â”‚   â”œâ”€â”€ validators.ts          # ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â”œâ”€â”€ retry.ts               # ãƒªãƒˆãƒ©ã‚¤ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â””â”€â”€ errorHandler.ts        # ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
â”‚   â”‚
â”‚   â”œâ”€â”€ prompts/                    # Geminiãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
â”‚   â”‚   â”œâ”€â”€ companyAnalysis.ts
â”‚   â”‚   â””â”€â”€ trendAnalysis.ts
â”‚   â”‚
â”‚   â””â”€â”€ types/                      # å‹å®šç¾©
â”‚       â”œâ”€â”€ company.ts
â”‚       â”œâ”€â”€ event.ts
â”‚       â””â”€â”€ api.ts
â”‚
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

#### Functionä¸€è¦§ã¨è²¬å‹™

| Functionå | ãƒˆãƒªã‚¬ãƒ¼ | è²¬å‹™ |
|-----------|---------|------|
| `createCompany` | HTTPS Callable | ä¼æ¥­ç™»éŒ²ã€é‡è¤‡ãƒã‚§ãƒƒã‚¯ã€Geminiåˆ†æ |
| `reanalyzeCompany` | HTTPS Callable | ä¼æ¥­å†åˆ†æï¼ˆ30æ—¥çµŒéå¾Œï¼‰ |
| `deleteCompany` | HTTPS Callable | ä¼æ¥­å‰Šé™¤ã€é–¢é€£äºˆå®šå‰Šé™¤ |
| `createEvent` | HTTPS Callable | äºˆå®šç™»éŒ²ã€CalendaråŒæœŸã€ä¼æ¥­çµ±è¨ˆæ›´æ–° |
| `updateEvent` | HTTPS Callable | äºˆå®šæ›´æ–°ã€CalendaråŒæœŸ |
| `deleteEvent` | HTTPS Callable | äºˆå®šå‰Šé™¤ã€CalendaråŒæœŸã€ä¼æ¥­çµ±è¨ˆæ›´æ–° |
| `analyzeTrends` | HTTPS Callable | å‚¾å‘åˆ†æå®Ÿè¡Œã€Geminiã‚µãƒãƒªãƒ¼ç”Ÿæˆ |
| `retryCalendarSync` | Firestore Trigger | ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼åŒæœŸå¤±æ•—æ™‚ã®è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤ |

---

### 2.3 ãƒ‡ãƒ¼ã‚¿å±¤ï¼ˆFirestoreï¼‰

#### ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ 

```
/users/{userId}
  â”œâ”€â”€ /companies/{companyId}        # ä¼æ¥­ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
  â”œâ”€â”€ /events/{eventId}             # äºˆå®šãƒ‡ãƒ¼ã‚¿
  â”œâ”€â”€ /trends/{trendId}             # å‚¾å‘åˆ†æçµæœ
  â””â”€â”€ /usage/{usageId}              # APIä½¿ç”¨é‡ç®¡ç†
```

#### ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­è¨ˆ

| ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ | ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | æ–¹å‘ | ç”¨é€” |
|------------|-----------|------|------|
| companies | normalizedName | ASC | é‡è¤‡ãƒã‚§ãƒƒã‚¯ |
| companies | createdAt | DESC | ç™»éŒ²æ—¥é †ã‚½ãƒ¼ãƒˆ |
| companies | stats.eventCount | DESC | äºˆå®šæ•°é †ã‚½ãƒ¼ãƒˆ |
| events | companyId | ASC | ä¼æ¥­åˆ¥äºˆå®šå–å¾— |
| events | date | ASC | æ—¥ä»˜é †ã‚½ãƒ¼ãƒˆ |
| events | status | ASC | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ |

---

## 3. ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼è¨­è¨ˆ

### 3.1 ä¼æ¥­ç™»éŒ²ãƒ•ãƒ­ãƒ¼

```
[ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›]
  "æ ªå¼ä¼šç¤¾ã‚³ãƒ‰ãƒ¢ãƒ³"
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´å‡¦ç†    â”‚
â”‚  - å…¥åŠ›ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³    â”‚
â”‚  - æ­£è¦åŒ–ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. createCompany()      â”‚
â”‚  - èªè¨¼ãƒã‚§ãƒƒã‚¯         â”‚
â”‚  - æ­£è¦åŒ–å®Ÿè¡Œ           â”‚
â”‚  - é‡è¤‡ãƒã‚§ãƒƒã‚¯         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
  <é‡è¤‡åˆ¤å®š>
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é‡è¤‡ã‚ã‚Š â”‚ é‡è¤‡ãªã— â”‚
â”‚          â”‚          â”‚
â”‚ æ—¢å­˜ä¼æ¥­ â”‚ Gemini   â”‚
â”‚ æƒ…å ±è¿”å´ â”‚ åˆ†æå®Ÿè¡Œ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“           â†“
  [ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ] [Firestoreä¿å­˜]
      â†“           â†“
  [ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°] [å®Œäº†é€šçŸ¥]
```

### 3.2 äºˆå®šç™»éŒ² + CalendaråŒæœŸãƒ•ãƒ­ãƒ¼

```
[äºˆå®šç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡]
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. createEvent()        â”‚
â”‚  - ä¼æ¥­IDå–å¾—/ä½œæˆ      â”‚
â”‚  - Firestoreä¿å­˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. syncToCalendar()     â”‚
â”‚  - OAuth ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—   â”‚
â”‚  - Calendar APIå‘¼ã³å‡ºã— â”‚
â”‚  - EventIDå–å¾—          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
  <APIæˆåŠŸ?>
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æˆåŠŸ     â”‚ å¤±æ•—     â”‚
â”‚          â”‚          â”‚
â”‚ EventID  â”‚ Status:  â”‚
â”‚ ä¿å­˜     â”‚ failed   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. ä¼æ¥­çµ±è¨ˆæ›´æ–°         â”‚
â”‚  - eventCount++         â”‚
â”‚  - lastEventDateæ›´æ–°    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
  [å®Œäº†é€šçŸ¥]
      â†“
  å¤±æ•—æ™‚ã¯è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤
  (5åˆ†, 30åˆ†, 1æ™‚é–“å¾Œ)
```

### 3.3 å‚¾å‘åˆ†æãƒ•ãƒ­ãƒ¼

```
[å‚¾å‘åˆ†æãƒœã‚¿ãƒ³æŠ¼ä¸‹]
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. å‰ææ¡ä»¶ãƒã‚§ãƒƒã‚¯     â”‚
â”‚  - ä¼æ¥­æ•° â‰¥ 3?          â”‚
â”‚  - ä½¿ç”¨å›æ•° < 10?       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. analyzeTrends()      â”‚
â”‚  - å…¨ä¼æ¥­ãƒ‡ãƒ¼ã‚¿å–å¾—     â”‚
â”‚  - æ¥­ç•Œåˆ¥é›†è¨ˆ           â”‚
â”‚  - ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æŠ½å‡º       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Gemini APIå‘¼ã³å‡ºã—   â”‚
â”‚  - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ       â”‚
â”‚  - ã‚µãƒãƒªãƒ¼ç”Ÿæˆ         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Firestoreä¿å­˜        â”‚
â”‚  - trends/latestæ›´æ–°    â”‚
â”‚  - usage/todayæ›´æ–°      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
  [çµæœè¡¨ç¤º]
  - å††ã‚°ãƒ©ãƒ•
  - ã‚¿ã‚°ã‚¯ãƒ©ã‚¦ãƒ‰
  - AIã‚µãƒãƒªãƒ¼
```

---

## 4. å¤–éƒ¨APIçµ±åˆè¨­è¨ˆ

### 4.1 Gemini APIçµ±åˆ

#### æ¥ç¶šè¨­å®š

```typescript
// services/geminiService.ts
import { GoogleGenerativeAI } from '@google/generative-ai';

const genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY!);

export const analyzeCompany = async (companyName: string) => {
  const model = genAI.getGenerativeModel({ 
    model: 'gemini-2.0-flash-exp',
    generationConfig: {
      responseMimeType: 'application/json',
      responseSchema: COMPANY_ANALYSIS_SCHEMA
    }
  });

  const result = await model.generateContent({
    contents: [{ 
      role: 'user', 
      parts: [{ text: generatePrompt(companyName) }] 
    }],
    tools: [{ googleSearch: {} }] // Groundingæœ‰åŠ¹åŒ–
  });

  return JSON.parse(result.response.text());
};
```

#### ãƒ¬ãƒ¼ãƒˆåˆ¶é™å¯¾ç­–

```typescript
// utils/retry.ts
export const retryWithBackoff = async (
  fn: () => Promise<any>,
  maxRetries = 3
) => {
  for (let i = 0; i < maxRetries; i++) {
    try {
      return await fn();
    } catch (error: any) {
      if (error.status === 429) { // Too Many Requests
        const delay = Math.pow(2, i) * 1000; // 1s, 2s, 4s
        await sleep(delay);
      } else {
        throw error;
      }
    }
  }
  throw new Error('Max retries exceeded');
};
```

### 4.2 Google Calendar APIçµ±åˆ

#### OAuth 2.0ãƒ•ãƒ­ãƒ¼

```typescript
// services/calendarService.ts
import { google } from 'googleapis';

export const getCalendarClient = async (userId: string) => {
  const oauth2Client = new google.auth.OAuth2(
    process.env.GOOGLE_CLIENT_ID,
    process.env.GOOGLE_CLIENT_SECRET,
    process.env.REDIRECT_URI
  );

  // Firestoreã‹ã‚‰ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—
  const tokenDoc = await admin
    .firestore()
    .doc(`users/${userId}/tokens/calendar`)
    .get();

  oauth2Client.setCredentials({
    refresh_token: tokenDoc.data()?.refreshToken
  });

  return google.calendar({ version: 'v3', auth: oauth2Client });
};

export const createCalendarEvent = async (
  userId: string,
  eventData: EventData
) => {
  const calendar = await getCalendarClient(userId);
  
  const event = {
    summary: `ã€${eventData.eventType}ã€‘${eventData.companyName}`,
    description: eventData.memo,
    start: {
      dateTime: eventData.date,
      timeZone: 'Asia/Tokyo'
    },
    end: {
      dateTime: eventData.endDate,
      timeZone: 'Asia/Tokyo'
    },
    location: eventData.location
  };

  const response = await calendar.events.insert({
    calendarId: 'primary',
    requestBody: event
  });

  return response.data.id; // EventIDã‚’è¿”å´
};
```

---

## 5. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### 5.1 èªè¨¼ãƒ»èªå¯ãƒ•ãƒ­ãƒ¼

```
[ãƒ¦ãƒ¼ã‚¶ãƒ¼]
    â†“
[Firebase Authentication]
    â†“ (ID Token)
[React App]
    â†“ (ID Tokenè‡ªå‹•ä»˜ä¸)
[Firebase Functions]
    â†“ (context.authæ¤œè¨¼)
[Firestore]
    â†“ (Security Rulesæ¤œè¨¼)
[ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯]
```

### 5.2 Firestoreã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
    match /users/{userId}/{document=**} {
      allow read, write: if request.auth != null 
                         && request.auth.uid == userId;
    }
    
    // ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‡ãƒ¼ã‚¿ã¯ä¸€åˆ‡ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯
    match /{document=**} {
      allow read, write: if false;
    }
  }
}
```

### 5.3 ç’°å¢ƒå¤‰æ•°ç®¡ç†

**é–‹ç™ºç’°å¢ƒï¼ˆEmulatorï¼‰:**
```bash
# .env.local
REACT_APP_FIREBASE_API_KEY=xxx
REACT_APP_FIREBASE_AUTH_DOMAIN=xxx
GEMINI_API_KEY=xxx (Functionsç”¨)
GOOGLE_CLIENT_ID=xxx
GOOGLE_CLIENT_SECRET=xxx
```

**æœ¬ç•ªç’°å¢ƒï¼ˆå°†æ¥ï¼‰:**
- Secret Managerã«ç§»è¡Œ
- ç’°å¢ƒå¤‰æ•°ã¯Cloud Functionsã®è¨­å®šã‹ã‚‰æ³¨å…¥

---

## 6. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨­è¨ˆ

### 6.1 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æœ€é©åŒ–

| æ‰‹æ³• | å®Ÿè£…ç®‡æ‰€ | åŠ¹æœ |
|-----|---------|------|
| Code Splitting | React.lazy() | åˆæœŸãƒ­ãƒ¼ãƒ‰æ™‚é–“çŸ­ç¸® |
| Memoization | React.memo, useMemo | å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å‰Šæ¸› |
| Debounce | æ¤œç´¢å…¥åŠ› | APIå‘¼ã³å‡ºã—å‰Šæ¸› |
| Virtual Scrolling | äºˆå®šä¸€è¦§ï¼ˆ50ä»¶ä»¥ä¸Šæ™‚ï¼‰ | ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°é«˜é€ŸåŒ– |
| Image Lazy Loading | ä¼æ¥­ãƒ­ã‚´ | å¸¯åŸŸå¹…ç¯€ç´„ |

### 6.2 ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æœ€é©åŒ–

| æ‰‹æ³• | å®Ÿè£…ç®‡æ‰€ | åŠ¹æœ |
|-----|---------|------|
| Batchå‡¦ç† | è¤‡æ•°äºˆå®šã®ä¸€æ‹¬ä½œæˆ | APIå‘¼ã³å‡ºã—å‰Šæ¸› |
| ä¸¦åˆ—å‡¦ç† | Promise.all | å‡¦ç†æ™‚é–“çŸ­ç¸® |
| ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚° | ä¼æ¥­åˆ†æçµæœ | APIä½¿ç”¨é‡å‰Šæ¸› |
| Indexæœ€é©åŒ– | Firestoreã‚¯ã‚¨ãƒª | ã‚¯ã‚¨ãƒªé€Ÿåº¦å‘ä¸Š |

### 6.3 ç›®æ¨™ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™

| æŒ‡æ¨™ | ç›®æ¨™å€¤ | æ¸¬å®šæ–¹æ³• |
|-----|--------|---------|
| åˆå›ãƒ­ãƒ¼ãƒ‰æ™‚é–“ | < 2ç§’ | Lighthouse |
| ãƒšãƒ¼ã‚¸é·ç§»é€Ÿåº¦ | < 300ms | Navigation Timing API |
| Geminiåˆ†ææ™‚é–“ | < 10ç§’ | å®Ÿæ¸¬å€¤ |
| Firestoreã‚¯ã‚¨ãƒª | < 500ms | Firebase Console |

---

## 7. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°è¨­è¨ˆ

### 7.1 ã‚¨ãƒ©ãƒ¼åˆ†é¡ã¨å¯¾å¿œ

| ã‚¨ãƒ©ãƒ¼ç¨®åˆ¥ | æ¤œå‡ºå ´æ‰€ | å¯¾å¿œæ–¹æ³• |
|-----------|---------|---------|
| èªè¨¼ã‚¨ãƒ©ãƒ¼ | Functions | 401ã‚¨ãƒ©ãƒ¼ã€å†ãƒ­ã‚°ã‚¤ãƒ³ä¿ƒé€² |
| æ¨©é™ã‚¨ãƒ©ãƒ¼ | Firestore | 403ã‚¨ãƒ©ãƒ¼ã€æ¨©é™ç¢ºèªç”»é¢ |
| ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ | APIå‘¼ã³å‡ºã— | ãƒªãƒˆãƒ©ã‚¤ï¼ˆæœ€å¤§3å›ï¼‰ |
| ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚¨ãƒ©ãƒ¼ | Gemini/Calendar | Exponential Backoff |
| ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ | ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ› | å…¥åŠ›æ¬„ä¸‹éƒ¨ã«èµ¤æ–‡å­—è¡¨ç¤º |
| äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ | å…¨èˆ¬ | ErrorBoundaryã€ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°é€ä¿¡ |

### 7.2 ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼

```typescript
// components/common/ErrorBoundary.tsx
class ErrorBoundary extends React.Component {
  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {
    // ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°é€ä¿¡ï¼ˆå°†æ¥çš„ã«Sentryãªã©å°å…¥ï¼‰
    console.error('Global Error:', error, errorInfo);
    
    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ã‹ã‚Šã‚„ã™ã„ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
    this.setState({ hasError: true, error });
  }

  render() {
    if (this.state.hasError) {
      return <ErrorFallback error={this.state.error} />;
    }
    return this.props.children;
  }
}
```

---

## 8. ç›£è¦–ãƒ»ãƒ­ã‚®ãƒ³ã‚°è¨­è¨ˆ

### 8.1 ãƒ­ã‚°å‡ºåŠ›æ–¹é‡

**Functionså´:**
```typescript
import * as functions from 'firebase-functions';

export const createCompany = functions.https.onCall(async (data, context) => {
  const startTime = Date.now();
  
  functions.logger.info('createCompany called', {
    userId: context.auth?.uid,
    companyName: data.companyName
  });

  try {
    // å‡¦ç†...
    functions.logger.info('createCompany success', {
      duration: Date.now() - startTime
    });
  } catch (error) {
    functions.logger.error('createCompany failed', {
      error: error.message,
      stack: error.stack
    });
    throw error;
  }
});
```

### 8.2 ç›£è¦–é …ç›®

| é …ç›® | ç›£è¦–æ–¹æ³• | ã‚¢ãƒ©ãƒ¼ãƒˆæ¡ä»¶ |
|-----|---------|------------|
| APIæˆåŠŸç‡ | Functions logs | < 95% |
| å¹³å‡å¿œç­”æ™‚é–“ | Functions logs | > 10ç§’ |
| Gemini APIä½¿ç”¨é‡ | æ—¥æ¬¡é›†è¨ˆ | > 1400 RPD |
| ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ•° | Functions logs | > 10å›/æ™‚ |

---

## 9. ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£è¨­è¨ˆ

### 9.1 ç¾åœ¨ã®è¦æ¨¡ï¼ˆv1.5ï¼‰
- **æƒ³å®šãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°:** 10å
- **ä¼æ¥­ãƒ‡ãƒ¼ã‚¿:** 100ç¤¾/ãƒ¦ãƒ¼ã‚¶ãƒ¼
- **äºˆå®šãƒ‡ãƒ¼ã‚¿:** 500ä»¶/ãƒ¦ãƒ¼ã‚¶ãƒ¼
- **Gemini API:** 150 RPDï¼ˆ10ãƒ¦ãƒ¼ã‚¶ãƒ¼ Ã— 15åˆ†æ/æ—¥ï¼‰

### 9.2 å°†æ¥ã®æ‹¡å¼µæ€§ï¼ˆv2.0ä»¥é™ï¼‰

**100ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦æ¨¡:**
- Firestoreã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æœ€é©åŒ–
- Functionsã®ãƒ¡ãƒ¢ãƒªå¢—é‡ï¼ˆ512MB â†’ 1GBï¼‰
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥å±¤è¿½åŠ ï¼ˆRedisæ¤œè¨ï¼‰

**1000ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦æ¨¡:**
- ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹åŒ–æ¤œè¨
- Gemini APIã®ãƒãƒƒãƒå‡¦ç†å°å…¥
- CDNå°å…¥ï¼ˆé™çš„ãƒ•ã‚¡ã‚¤ãƒ«é…ä¿¡ï¼‰

---

## 10. ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆè¨­è¨ˆï¼ˆå°†æ¥ï¼‰

### 10.1 ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼

```
[Git Push to main]
    â†“
[GitHub Actions]
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ãƒ“ãƒ«ãƒ‰             â”‚
â”‚  - npm run build     â”‚
â”‚  - TypeScriptã‚³ãƒ³ãƒ‘ã‚¤ãƒ«â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. ãƒ†ã‚¹ãƒˆ             â”‚
â”‚  - Unit Tests        â”‚
â”‚  - Integration Tests â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. ãƒ‡ãƒ—ãƒ­ã‚¤           â”‚
â”‚  - Firebase Deploy   â”‚
â”‚  - Hosting / Functionsâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
[æœ¬ç•ªç’°å¢ƒåæ˜ ]
```

### 10.2 ç’°å¢ƒåˆ†é›¢

| ç’°å¢ƒ | ç”¨é€” | Firebase Project |
|-----|------|-----------------|
| Development | ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º | Emulators |
| Staging | çµ±åˆãƒ†ã‚¹ãƒˆ | job-mete-staging |
| Production | æœ¬ç•ªç’°å¢ƒ | job-mete-prod |

---

## 11. æŠ€è¡“çš„è² å‚µç®¡ç†

### 11.1 æ—¢çŸ¥ã®æŠ€è¡“çš„è² å‚µï¼ˆv1.5ï¼‰

| é …ç›® | ç¾çŠ¶ | ç†æƒ³ | å¯¾å¿œæ™‚æœŸ |
|-----|------|------|---------|
| ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç† | ç’°å¢ƒå¤‰æ•° | Secret Manager | v2.0 |
| ã‚¨ãƒ©ãƒ¼ãƒ­ã‚° | console.log | Sentryçµ±åˆ | v2.0 |
| ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ | 0% | 80%ä»¥ä¸Š | v2.5 |
| ã‚­ãƒ£ãƒƒã‚·ãƒ¥ | ãªã— | Redis/Memcache | v3.0 |
| CI/CD | æ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤ | è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ | v2.0 |

---

## 12. ã¾ã¨ã‚

æœ¬ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ›¸ã¯ã€Job Mete v1.5ã®ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“æ§‹æˆã€å„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®è²¬å‹™ã€ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã€å¤–éƒ¨APIçµ±åˆã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’ç¶²ç¾…ã—ã¦ã„ã¾ã™ã€‚

**é‡è¦ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ¤æ–­:**
1. **ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£:** å°è¦æ¨¡é–‹ç™ºã«æœ€é©ã€é‹ç”¨ã‚³ã‚¹ãƒˆæœ€å°åŒ–
2. **BFFãƒ‘ã‚¿ãƒ¼ãƒ³:** Functionsã§å¤–éƒ¨APIçµ±åˆã‚’ä¸€å…ƒç®¡ç†
3. **NoSQLãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹:** Firestoreã§ã‚¹ã‚­ãƒ¼ãƒãƒ¬ã‚¹ã€ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«
4. **OAuth 2.0:** å®‰å…¨ãªã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é€£æº
5. **æ§‹é€ åŒ–JSONå‡ºåŠ›:** Gemini APIã®çµæœã‚’å‹å®‰å…¨ã«æ‰±ã†

ã“ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯ã€ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‹ã‚‰æœ¬ç•ªç’°å¢ƒã¸ã®ç§»è¡Œã‚’è¦‹æ®ãˆãŸè¨­è¨ˆã«ãªã£ã¦ã„ã¾ã™ã€‚