# ğŸ› ï¸ Job Mete å®Ÿè£…ã‚¬ã‚¤ãƒ‰ v1.5

---

## ç›®æ¬¡

1. [ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„](#1-ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„)
2. [ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ](#2-ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ )
3. [ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³](#3-ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³)
4. [çŠ¶æ…‹ç®¡ç†](#4-çŠ¶æ…‹ç®¡ç†)
5. [ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°è¦ç´„](#5-ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°è¦ç´„)
6. [å‘½åè¦å‰‡](#6-å‘½åè¦å‰‡)
7. [ãƒ†ã‚¹ãƒˆæˆ¦ç•¥](#7-ãƒ†ã‚¹ãƒˆæˆ¦ç•¥)
8. [ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–](#8-ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–)

---

## 1. ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

### 1.1 åŸºæœ¬åŸå‰‡

#### âœ… å®ˆã‚‹ã¹ãåŸå‰‡

1. **DRYï¼ˆDon't Repeat Yourselfï¼‰**
   - åŒã˜ã‚³ãƒ¼ãƒ‰ã¯æ›¸ã‹ãªã„
   - å…±é€šå‡¦ç†ã¯é–¢æ•°/ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåŒ–

2. **KISSï¼ˆKeep It Simple, Stupidï¼‰**
   - ã‚·ãƒ³ãƒ—ãƒ«ã§ç†è§£ã—ã‚„ã™ã„ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã
   - éåº¦ãªæŠ½è±¡åŒ–ã‚’é¿ã‘ã‚‹

3. **YAGNIï¼ˆYou Aren't Gonna Need Itï¼‰**
   - å¿…è¦ã«ãªã‚‹ã¾ã§å®Ÿè£…ã—ãªã„
   - å°†æ¥ã®æ‹¡å¼µæ€§ã‚ˆã‚Šç¾åœ¨ã®æ˜ç¢ºæ€§ã‚’å„ªå…ˆ

4. **Single Responsibility Principle**
   - 1ã¤ã®é–¢æ•°/ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯1ã¤ã®è²¬å‹™ã®ã¿
   - è¤‡é›‘ãªå‡¦ç†ã¯åˆ†å‰²ã™ã‚‹

---

### 1.2 TypeScriptè¦ç´„

#### å‹å®šç¾©

```typescript
// âœ… è‰¯ã„ä¾‹ï¼šæ˜ç¤ºçš„ãªå‹å®šç¾©
interface Company {
  id: string;
  companyName: string;
  normalizedName: string;
  analysis: CompanyAnalysis;
  createdAt: string;
}

// âœ… è‰¯ã„ä¾‹ï¼šå‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã®ä½¿ç”¨
type EventType = 
  | 'ä¸€æ¬¡é¢æ¥' 
  | 'äºŒæ¬¡é¢æ¥' 
  | 'æœ€çµ‚é¢æ¥' 
  | 'èª¬æ˜ä¼š' 
  | 'ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³' 
  | 'ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«é¢è«‡' 
  | 'ãã®ä»–';

// âŒ æ‚ªã„ä¾‹ï¼šany ã®ä½¿ç”¨
const data: any = fetchData(); // é¿ã‘ã‚‹

// âœ… è‰¯ã„ä¾‹ï¼šunknown ã‚’ä½¿ç”¨ã—ã¦å‹å®‰å…¨ã«
const data: unknown = fetchData();
if (isCompanyData(data)) {
  // å‹ã‚¬ãƒ¼ãƒ‰ã§å®‰å…¨ã«ä½¿ç”¨
}
```

#### å‹ã‚¬ãƒ¼ãƒ‰

```typescript
// å‹ã‚¬ãƒ¼ãƒ‰é–¢æ•°ã‚’å®šç¾©
function isCompanyData(data: unknown): data is Company {
  return (
    typeof data === 'object' &&
    data !== null &&
    'id' in data &&
    'companyName' in data
  );
}
```

#### Enum vs Union Type

```typescript
// âœ… æ¨å¥¨ï¼šUnion Typeã‚’ä½¿ç”¨ï¼ˆè»½é‡ï¼‰
type Status = 'scheduled' | 'completed' | 'cancelled';

// âŒ é¿ã‘ã‚‹ï¼šEnumã¯ä½¿ã‚ãªã„ï¼ˆãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºå¢—åŠ ï¼‰
enum Status {
  Scheduled = 'scheduled',
  Completed = 'completed',
  Cancelled = 'cancelled'
}
```

---

### 1.3 Reactè¦ç´„

#### é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```typescript
// âœ… è‰¯ã„ä¾‹ï¼šé–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆArrowã§ã¯ãªãå®£è¨€ï¼‰
export default function CompanyCard({ company }: Props) {
  return (
    <div className="...">
      {/* ... */}
    </div>
  );
}

// âŒ æ‚ªã„ä¾‹ï¼šArrowé–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆãƒ‡ãƒãƒƒã‚°ã—ã«ãã„ï¼‰
export default ({ company }: Props) => {
  return <div>...</div>;
};
```

#### Propså®šç¾©

```typescript
// âœ… è‰¯ã„ä¾‹ï¼šinterface ã§ Props ã‚’å®šç¾©
interface CompanyCardProps {
  company: Company;
  onDetail: (id: string) => void;
  onAddEvent?: (id: string) => void; // ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«
}

export default function CompanyCard({ 
  company, 
  onDetail, 
  onAddEvent 
}: CompanyCardProps) {
  // ...
}
```

#### Hooks ã®ä½¿ç”¨é †åº

```typescript
// âœ… è‰¯ã„ä¾‹ï¼šHooksã¯å¸¸ã«ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã§å‘¼ã³å‡ºã™
function MyComponent() {
  // 1. useState
  const [data, setData] = useState<Company[]>([]);
  const [loading, setLoading] = useState(false);
  
  // 2. useContext
  const { user } = useAuth();
  
  // 3. useRef
  const inputRef = useRef<HTMLInputElement>(null);
  
  // 4. useEffect
  useEffect(() => {
    fetchData();
  }, []);
  
  // 5. ã‚«ã‚¹ã‚¿ãƒ Hooks
  const companies = useCompanies();
  
  // ...
}
```

#### æ¡ä»¶ä»˜ããƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°

```typescript
// âœ… è‰¯ã„ä¾‹ï¼šEarly Return
function CompanyDetail({ companyId }: Props) {
  const company = useCompany(companyId);
  
  if (!company) {
    return <div>èª­ã¿è¾¼ã¿ä¸­...</div>;
  }
  
  return (
    <div>
      <h1>{company.companyName}</h1>
      {/* ... */}
    </div>
  );
}

// âŒ æ‚ªã„ä¾‹ï¼šãƒã‚¹ãƒˆãŒæ·±ã„
function CompanyDetail({ companyId }: Props) {
  const company = useCompany(companyId);
  
  return (
    <div>
      {company ? (
        <div>
          <h1>{company.companyName}</h1>
          {/* ... */}
        </div>
      ) : (
        <div>èª­ã¿è¾¼ã¿ä¸­...</div>
      )}
    </div>
  );
}
```

---

### 1.4 Firebaseè¦ç´„

#### Firestoreæ“ä½œ

```typescript
// âœ… è‰¯ã„ä¾‹ï¼šå‹å®‰å…¨ãªFirestoreæ“ä½œ
import { collection, query, where, getDocs } from 'firebase/firestore';

async function fetchCompanies(userId: string): Promise<Company[]> {
  const companiesRef = collection(db, 'users', userId, 'companies');
  const q = query(companiesRef, where('analysisMetadata.status', '==', 'completed'));
  const snapshot = await getDocs(q);
  
  return snapshot.docs.map(doc => ({
    id: doc.id,
    ...doc.data()
  } as Company));
}

// âŒ æ‚ªã„ä¾‹ï¼šå‹å®‰å…¨ã§ãªã„
async function fetchCompanies(userId: string) {
  const snapshot = await db
    .collection(`users/${userId}/companies`)
    .get();
  
  return snapshot.docs.map(doc => doc.data()); // å‹ãªã—
}
```

#### Functionså‘¼ã³å‡ºã—

```typescript
// âœ… è‰¯ã„ä¾‹ï¼šå‹ä»˜ãFunctionså‘¼ã³å‡ºã—
import { httpsCallable } from 'firebase/functions';

interface CreateCompanyRequest {
  companyName: string;
  forceCreate?: boolean;
}

interface CreateCompanyResponse {
  success: boolean;
  companyId?: string;
  isDuplicate?: boolean;
}

async function createCompany(data: CreateCompanyRequest) {
  const fn = httpsCallable<CreateCompanyRequest, CreateCompanyResponse>(
    functions,
    'createCompany'
  );
  
  const result = await fn(data);
  return result.data;
}
```

---

### 1.5 ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

#### try-catch ã®ä½¿ç”¨

```typescript
// âœ… è‰¯ã„ä¾‹ï¼šé©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
async function handleCreateCompany(companyName: string) {
  try {
    setLoading(true);
    setError(null);
    
    const result = await createCompany({ companyName });
    
    if (result.success) {
      showSuccessToast('ä¼æ¥­ã‚’ç™»éŒ²ã—ã¾ã—ãŸ');
      navigate(`/companies/${result.companyId}`);
    } else if (result.isDuplicate) {
      setDuplicateInfo(result.existingCompany);
    }
  } catch (error) {
    console.error('ä¼æ¥­ç™»éŒ²ã‚¨ãƒ©ãƒ¼:', error);
    
    if (error instanceof FirebaseError) {
      setError(getFirebaseErrorMessage(error.code));
    } else {
      setError('äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ');
    }
  } finally {
    setLoading(false);
  }
}

// ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
function getFirebaseErrorMessage(code: string): string {
  const messages: Record<string, string> = {
    'unauthenticated': 'ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™',
    'permission-denied': 'ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“',
    'resource-exhausted': 'APIä½¿ç”¨é‡ã®ä¸Šé™ã«é”ã—ã¾ã—ãŸ',
  };
  
  return messages[code] || 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ';
}
```

---

### 1.6 ã‚³ãƒ¡ãƒ³ãƒˆè¦ç´„

#### JSDocå½¢å¼

```typescript
/**
 * ä¼æ¥­åã‚’æ­£è¦åŒ–ã—ã¦é‡è¤‡ãƒã‚§ãƒƒã‚¯ç”¨ã®æ–‡å­—åˆ—ã‚’ç”Ÿæˆ
 *
 * @param name - ä¼æ¥­åï¼ˆä¾‹: "æ ªå¼ä¼šç¤¾ã€‡ã€‡"ï¼‰
 * @returns æ­£è¦åŒ–ã•ã‚ŒãŸä¼æ¥­åï¼ˆä¾‹: "ã€‡ã€‡"ï¼‰
 *
 * @example
 * normalizeCompanyName("æ ªå¼ä¼šç¤¾ã€‡ã€‡") // => "ã€‡ã€‡"
 * normalizeCompanyName("ãˆ±â–³â–³ãƒ»ã‚¸ãƒ£ãƒ‘ãƒ³") // => "â–³â–³ã‚¸ãƒ£ãƒ‘ãƒ³"
 */
export function normalizeCompanyName(name: string): string {
  return name
    .toLowerCase()
    .replace(/æ ªå¼ä¼šç¤¾|ã‹ã¶ã—ããŒã„ã—ã‚ƒ|ãˆ±/g, '')
    .replace(/\s+/g, '')
    .replace(/[\.ã€ã€‚ãƒ»]/g, '');
}
```

#### ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚³ãƒ¡ãƒ³ãƒˆ

```typescript
// âœ… è‰¯ã„ä¾‹ï¼šã€Œãªãœã€ã‚’èª¬æ˜ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆ
// Gemini APIã¯429ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™ã“ã¨ãŒã‚ã‚‹ãŸã‚ã€ãƒªãƒˆãƒ©ã‚¤ãŒå¿…è¦
await retryWithBackoff(() => geminiApi.analyze(companyName));

// âŒ æ‚ªã„ä¾‹ï¼šã€Œä½•ã‚’ã€ã—ã¦ã„ã‚‹ã‹ã®ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆã‚³ãƒ¼ãƒ‰è‡ªä½“ã§æ˜ã‚‰ã‹ï¼‰
// iã‚’1å¢—ã‚„ã™
i++;
```

---

## 2. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

### 2.1 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“æ§‹é€ 

```
job-mete/
â”œâ”€â”€ public/                          # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â””â”€â”€ manifest.json
â”‚
â”œâ”€â”€ src/                             # ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ components/                  # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ pages/                       # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ hooks/                       # ã‚«ã‚¹ã‚¿ãƒ Hooks
â”‚   â”œâ”€â”€ contexts/                    # Reactã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ services/                    # å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æº
â”‚   â”œâ”€â”€ utils/                       # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”‚   â”œâ”€â”€ types/                       # TypeScriptå‹å®šç¾©
â”‚   â”œâ”€â”€ constants/                   # å®šæ•°
â”‚   â”œâ”€â”€ App.tsx                      # ã‚¢ãƒ—ãƒªãƒ«ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ index.tsx                    # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â””â”€â”€ index.css                    # ã‚°ãƒ­ãƒ¼ãƒãƒ«CSSï¼ˆTailwindï¼‰
â”‚
â”œâ”€â”€ functions/                       # Firebase Functions
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ handlers/                # å„ç¨®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
â”‚   â”‚   â”œâ”€â”€ services/                # ã‚µãƒ¼ãƒ“ã‚¹ãƒ¬ã‚¤ãƒ¤ãƒ¼
â”‚   â”‚   â”œâ”€â”€ utils/                   # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â”œâ”€â”€ prompts/                 # Geminiãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
â”‚   â”‚   â”œâ”€â”€ types/                   # å‹å®šç¾©
â”‚   â”‚   â””â”€â”€ index.ts                 # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ tsconfig.json
â”‚
â”œâ”€â”€ docs/                            # è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ requirements.md              # è¦ä»¶å®šç¾©æ›¸
â”‚   â”œâ”€â”€ architecture.md              # ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ
â”‚   â”œâ”€â”€ database.md                  # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ
â”‚   â”œâ”€â”€ api.md                       # APIè¨­è¨ˆ
â”‚   â”œâ”€â”€ sitemap.md                   # ã‚µã‚¤ãƒˆãƒãƒƒãƒ—è¨­è¨ˆ
â”‚   â””â”€â”€ implementation-guide.md      # å®Ÿè£…ã‚¬ã‚¤ãƒ‰
â”‚
â”œâ”€â”€ .env.local                       # ç’°å¢ƒå¤‰æ•°ï¼ˆGitéç®¡ç†ï¼‰
â”œâ”€â”€ .gitignore
â”œâ”€â”€ firebase.json                    # Firebaseè¨­å®š
â”œâ”€â”€ firestore.rules                  # Firestoreã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ CLAUDE.md                        # Claude Codeç”¨è¨­å®š
â””â”€â”€ README.md
```

---

### 2.2 src/components/ ã®æ§‹é€ 

```
src/components/
â”œâ”€â”€ common/                          # æ±ç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ Button.tsx                   # ãƒœã‚¿ãƒ³
â”‚   â”œâ”€â”€ Input.tsx                    # å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
â”‚   â”œâ”€â”€ Modal.tsx                    # ãƒ¢ãƒ¼ãƒ€ãƒ«
â”‚   â”œâ”€â”€ Loading.tsx                  # ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¹ãƒ”ãƒŠãƒ¼
â”‚   â”œâ”€â”€ Toast.tsx                    # é€šçŸ¥ãƒˆãƒ¼ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ ErrorBoundary.tsx            # ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒª
â”‚   â””â”€â”€ index.ts                     # ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
â”‚
â”œâ”€â”€ layout/                          # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ Header.tsx                   # ãƒ˜ãƒƒãƒ€ãƒ¼
â”‚   â”œâ”€â”€ Footer.tsx                   # ãƒ•ãƒƒã‚¿ãƒ¼
â”‚   â”œâ”€â”€ Sidebar.tsx                  # ã‚µã‚¤ãƒ‰ãƒãƒ¼
â”‚   â”œâ”€â”€ BottomNavigation.tsx         # ãƒ¢ãƒã‚¤ãƒ«ç”¨ãƒœãƒˆãƒ ãƒŠãƒ“
â”‚   â”œâ”€â”€ AppLayout.tsx                # ãƒ¡ã‚¤ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ companies/                       # ä¼æ¥­é–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ CompanyCard.tsx              # ä¼æ¥­ã‚«ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ CompanyList.tsx              # ä¼æ¥­ä¸€è¦§
â”‚   â”œâ”€â”€ CompanyDetail.tsx            # ä¼æ¥­è©³ç´°
â”‚   â”œâ”€â”€ CompanyForm.tsx              # ä¼æ¥­ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ 
â”‚   â”œâ”€â”€ CompanyAnalysis.tsx          # ä¼æ¥­åˆ†æè¡¨ç¤º
â”‚   â”œâ”€â”€ DuplicateWarning.tsx         # é‡è¤‡è­¦å‘Š
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ events/                          # äºˆå®šé–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ EventCard.tsx                # äºˆå®šã‚«ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ EventList.tsx                # äºˆå®šä¸€è¦§
â”‚   â”œâ”€â”€ EventForm.tsx                # äºˆå®šç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ 
â”‚   â”œâ”€â”€ EventCalendar.tsx            # ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¡¨ç¤º
â”‚   â”œâ”€â”€ EventDetail.tsx              # äºˆå®šè©³ç´°
â”‚   â””â”€â”€ index.ts
â”‚
â””â”€â”€ trends/                          # å‚¾å‘åˆ†æã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
    â”œâ”€â”€ TrendChart.tsx               # å‚¾å‘ãƒãƒ£ãƒ¼ãƒˆ
    â”œâ”€â”€ IndustryPieChart.tsx         # æ¥­ç•Œåˆ¥å††ã‚°ãƒ©ãƒ•
    â”œâ”€â”€ KeywordCloud.tsx             # ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚¿ã‚°ã‚¯ãƒ©ã‚¦ãƒ‰
    â”œâ”€â”€ TrendSummary.tsx             # AIã‚µãƒãƒªãƒ¼
    â””â”€â”€ index.ts
```

**ãƒ«ãƒ¼ãƒ«:**
- å„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«`index.ts`ã‚’é…ç½®ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå = ãƒ•ã‚¡ã‚¤ãƒ«åï¼ˆPascalCaseï¼‰

---

### 2.3 functions/src/ ã®æ§‹é€ 

```
functions/src/
â”œâ”€â”€ handlers/                        # Functionãƒãƒ³ãƒ‰ãƒ©ãƒ¼
â”‚   â”œâ”€â”€ companies/
â”‚   â”‚   â”œâ”€â”€ createCompany.ts
â”‚   â”‚   â”œâ”€â”€ reanalyzeCompany.ts
â”‚   â”‚   â””â”€â”€ deleteCompany.ts
â”‚   â”œâ”€â”€ events/
â”‚   â”‚   â”œâ”€â”€ createEvent.ts
â”‚   â”‚   â”œâ”€â”€ updateEvent.ts
â”‚   â”‚   â””â”€â”€ deleteEvent.ts
â”‚   â”œâ”€â”€ trends/
â”‚   â”‚   â””â”€â”€ analyzeTrends.ts
â”‚   â””â”€â”€ calendar/
â”‚       â”œâ”€â”€ syncToCalendar.ts
â”‚       â””â”€â”€ retryCalendarSync.ts
â”‚
â”œâ”€â”€ services/                        # ã‚µãƒ¼ãƒ“ã‚¹ãƒ¬ã‚¤ãƒ¤ãƒ¼
â”‚   â”œâ”€â”€ geminiService.ts             # Gemini API
â”‚   â”œâ”€â”€ calendarService.ts           # Calendar API
â”‚   â”œâ”€â”€ firestoreService.ts          # Firestoreæ“ä½œ
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ utils/                           # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ normalizer.ts                # æ­£è¦åŒ–å‡¦ç†
â”‚   â”œâ”€â”€ validators.ts                # ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ retry.ts                     # ãƒªãƒˆãƒ©ã‚¤ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”œâ”€â”€ errorHandler.ts              # ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ prompts/                         # Geminiãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
â”‚   â”œâ”€â”€ companyAnalysisPrompt.ts
â”‚   â”œâ”€â”€ trendAnalysisPrompt.ts
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ types/                           # å‹å®šç¾©
â”‚   â”œâ”€â”€ company.ts
â”‚   â”œâ”€â”€ event.ts
â”‚   â”œâ”€â”€ api.ts
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ config/                          # è¨­å®š
â”‚   â”œâ”€â”€ firebase.ts                  # Firebase AdminåˆæœŸåŒ–
â”‚   â”œâ”€â”€ gemini.ts                    # Gemini APIè¨­å®š
â”‚   â””â”€â”€ calendar.ts                  # Calendar APIè¨­å®š
â”‚
â””â”€â”€ index.ts                         # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆï¼ˆå…¨Functionç™»éŒ²ï¼‰
```

---

## 3. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³

### 3.1 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†é¡

#### Atomic Design ã‚’ç·©ãé©ç”¨

```
Atomsï¼ˆåŸå­ï¼‰
  â””â”€ Button, Input, Badge, Spinner
      â†“
Moleculesï¼ˆåˆ†å­ï¼‰
  â””â”€ FormField, SearchBar, Card
      â†“
Organismsï¼ˆæœ‰æ©Ÿä½“ï¼‰
  â””â”€ CompanyCard, EventCard, Header
      â†“
Templatesï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰
  â””â”€ AppLayout, PageLayout
      â†“
Pagesï¼ˆãƒšãƒ¼ã‚¸ï¼‰
  â””â”€ CompaniesPage, EventsPage
```

---

### 3.2 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

#### åŸºæœ¬æ§‹é€ 

```typescript
// src/components/companies/CompanyCard.tsx

import { Company } from '@/types';

/**
 * ä¼æ¥­ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
 */
interface CompanyCardProps {
  company: Company;
  onDetail: (id: string) => void;
  onAddEvent?: (id: string) => void;
}

export default function CompanyCard({ 
  company, 
  onDetail, 
  onAddEvent 
}: CompanyCardProps) {
  // ãƒ­ã‚¸ãƒƒã‚¯
  const daysSinceAnalysis = calculateDaysSince(company.analysisMetadata.analyzedAt);
  const needsReanalysis = daysSinceAnalysis >= 30;
  
  // ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼
  const handleDetailClick = () => {
    onDetail(company.id);
  };
  
  const handleAddEventClick = () => {
    onAddEvent?.(company.id);
  };
  
  // ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
  return (
    <div className="border rounded-lg p-4 hover:shadow-md transition-shadow">
      <div className="flex justify-between items-start mb-2">
        <div className="flex-1">
          <h3 className="text-lg font-semibold text-gray-900">
            ğŸ¢ {company.companyName}
          </h3>
        </div>
        
        {needsReanalysis && (
          <span className="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
            âš ï¸ å†åˆ†ææ¨å¥¨
          </span>
        )}
      </div>
      
      {/* ä»¥ä¸‹çœç•¥ */}
    </div>
  );
}
```

---

### 3.3 ã‚«ã‚¹ã‚¿ãƒ Hooksãƒ‘ã‚¿ãƒ¼ãƒ³

#### ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒHook

```typescript
// src/hooks/useCompanies.ts

import { useState, useEffect } from 'react';
import { collection, query, onSnapshot } from 'firebase/firestore';
import { db } from '@/services/firebase';
import { useAuth } from '@/contexts/AuthContext';
import type { Company } from '@/types';

/**
 * ä¼æ¥­ä¸€è¦§ã‚’å–å¾—ã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ Hook
 * ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°å¯¾å¿œ
 */
export function useCompanies() {
  const { user } = useAuth();
  const [companies, setCompanies] = useState<Company[]>([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);
  
  useEffect(() => {
    if (!user) {
      setLoading(false);
      return;
    }
    
    const companiesRef = collection(db, 'users', user.uid, 'companies');
    const q = query(companiesRef);
    
    // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è³¼èª­
    const unsubscribe = onSnapshot(
      q,
      (snapshot) => {
        const data = snapshot.docs.map(doc => ({
          id: doc.id,
          ...doc.data()
        } as Company));
        
        setCompanies(data);
        setLoading(false);
      },
      (err) => {
        console.error('ä¼æ¥­ä¸€è¦§å–å¾—ã‚¨ãƒ©ãƒ¼:', err);
        setError('ä¼æ¥­ä¸€è¦§ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ');
        setLoading(false);
      }
    );
    
    // ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
    return () => unsubscribe();
  }, [user]);
  
  return { companies, loading, error };
}
```

#### APIå‘¼ã³å‡ºã—Hook

```typescript
// src/hooks/useCreateCompany.ts

import { useState } from 'react';
import { httpsCallable } from 'firebase/functions';
import { functions } from '@/services/firebase';
import type { CreateCompanyRequest, CreateCompanyResponse } from '@/types/api';

/**
 * ä¼æ¥­ä½œæˆAPIã‚’å‘¼ã³å‡ºã™ã‚«ã‚¹ã‚¿ãƒ Hook
 */
export function useCreateCompany() {
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);
  
  const createCompany = async (companyName: string, forceCreate = false) => {
    setLoading(true);
    setError(null);
    
    try {
      const fn = httpsCallable<CreateCompanyRequest, CreateCompanyResponse>(
        functions,
        'createCompany'
      );
      
      const result = await fn({ companyName, forceCreate });
      return result.data;
    } catch (err: any) {
      const errorMessage = err.message || 'ä¼æ¥­ç™»éŒ²ã«å¤±æ•—ã—ã¾ã—ãŸ';
      setError(errorMessage);
      throw err;
    } finally {
      setLoading(false);
    }
  };
  
  return { createCompany, loading, error };
}
```

---

### 3.4 Context ãƒ‘ã‚¿ãƒ¼ãƒ³

```typescript
// src/contexts/AuthContext.tsx

import { createContext, useContext, useState, useEffect, ReactNode } from 'react';
import { 
  onAuthStateChanged, 
  signInWithPopup, 
  signOut,
  GoogleAuthProvider,
  User 
} from 'firebase/auth';
import { auth } from '@/services/firebase';

interface AuthContextType {
  user: User | null;
  loading: boolean;
  login: () => Promise<void>;
  logout: () => Promise<void>;
}

const AuthContext = createContext<AuthContextType | undefined>(undefined);

export function AuthProvider({ children }: { children: ReactNode }) {
  const [user, setUser] = useState<User | null>(null);
  const [loading, setLoading] = useState(true);
  
  useEffect(() => {
    const unsubscribe = onAuthStateChanged(auth, (user) => {
      setUser(user);
      setLoading(false);
    });
    
    return unsubscribe;
  }, []);
  
  const login = async () => {
    const provider = new GoogleAuthProvider();
    await signInWithPopup(auth, provider);
  };
  
  const logout = async () => {
    await signOut(auth);
  };
  
  return (
    <AuthContext.Provider value={{ user, loading, login, logout }}>
      {children}
    </AuthContext.Provider>
  );
}

export function useAuth() {
  const context = useContext(AuthContext);
  if (context === undefined) {
    throw new Error('useAuth must be used within an AuthProvider');
  }
  return context;
}
```

---

## 4. çŠ¶æ…‹ç®¡ç†

### 4.1 çŠ¶æ…‹ç®¡ç†æˆ¦ç•¥

| çŠ¶æ…‹ã®ç¨®é¡ | ç®¡ç†æ–¹æ³• | ä¾‹ |
|----------|---------|---|
| ãƒ­ãƒ¼ã‚«ãƒ«UIçŠ¶æ…‹ | useState | ãƒ¢ãƒ¼ãƒ€ãƒ«é–‹é–‰ã€ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ› |
| ã‚°ãƒ­ãƒ¼ãƒãƒ«UIçŠ¶æ…‹ | Context API | é€šçŸ¥ãƒˆãƒ¼ã‚¹ãƒˆã€ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° |
| ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹ | ã‚«ã‚¹ã‚¿ãƒ Hooks | Firestoreãƒ‡ãƒ¼ã‚¿ |
| URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | React Router | ãƒšãƒ¼ã‚¸IDã€ãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶ |

---

### 4.2 çŠ¶æ…‹ã®ç½®ãå ´æ‰€

```typescript
// âœ… è‰¯ã„ä¾‹ï¼šçŠ¶æ…‹ã¯å¿…è¦æœ€å°é™ã®ã‚¹ã‚³ãƒ¼ãƒ—ã«é…ç½®

// ãƒ­ãƒ¼ã‚«ãƒ«çŠ¶æ…‹ï¼ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã®ã¿ä½¿ç”¨ï¼‰
function CompanyForm() {
  const [companyName, setCompanyName] = useState('');
  const [isSubmitting, setIsSubmitting] = useState(false);
  // ...
}

// ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ï¼ˆè¤‡æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ç”¨ï¼‰
// â†’ Context APIã§ç®¡ç†
function NotificationProvider() {
  const [notifications, setNotifications] = useState<Notification[]>([]);
  // ...
}

// ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹ï¼ˆFirestoreã‹ã‚‰å–å¾—ï¼‰
// â†’ ã‚«ã‚¹ã‚¿ãƒ Hooksã§ç®¡ç†
function useCompanies() {
  const [companies, setCompanies] = useState<Company[]>([]);
  // Firestoreã‹ã‚‰å–å¾—
}
```

---

## 5. ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°è¦ç´„

### 5.1 Tailwind CSSä½¿ç”¨ãƒ«ãƒ¼ãƒ«

#### âœ… åŸºæœ¬ãƒ«ãƒ¼ãƒ«

1. **ã‚«ã‚¹ã‚¿ãƒ CSSã¯åŸå‰‡ã¨ã—ã¦æ›¸ã‹ãªã„**
2. **Tailwind ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ã®ã¿ä½¿ç”¨**
3. **æ¡ä»¶ä»˜ãã‚¹ã‚¿ã‚¤ãƒ«ã¯`clsx`ã¾ãŸã¯`classnames`ã‚’ä½¿ç”¨**
4. **ç¹°ã‚Šè¿”ã—ã‚¹ã‚¿ã‚¤ãƒ«ã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåŒ–**

---

### 5.2 ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ä¾‹

#### ãƒœã‚¿ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```typescript
// src/components/common/Button.tsx

import { ButtonHTMLAttributes, ReactNode } from 'react';
import clsx from 'clsx';

interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {
  children: ReactNode;
  variant?: 'primary' | 'secondary' | 'danger';
  size?: 'sm' | 'md' | 'lg';
  loading?: boolean;
}

export default function Button({
  children,
  variant = 'primary',
  size = 'md',
  loading = false,
  disabled,
  className,
  ...props
}: ButtonProps) {
  return (
    <button
      className={clsx(
        // åŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ«
        'rounded-md font-medium transition-colors',
        'focus:outline-none focus:ring-2 focus:ring-offset-2',
        'disabled:opacity-50 disabled:cursor-not-allowed',
        
        // variant ã«ã‚ˆã‚‹ã‚¹ã‚¿ã‚¤ãƒ«
        {
          'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500': 
            variant === 'primary',
          'bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500': 
            variant === 'secondary',
          'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500': 
            variant === 'danger',
        },
        
        // size ã«ã‚ˆã‚‹ã‚¹ã‚¿ã‚¤ãƒ«
        {
          'px-3 py-1.5 text-sm': size === 'sm',
          'px-4 py-2 text-base': size === 'md',
          'px-6 py-3 text-lg': size === 'lg',
        },
        
        // è¿½åŠ ã‚¯ãƒ©ã‚¹
        className
      )}
      disabled={disabled || loading}
      {...props}
    >
      {loading ? (
        <span className="flex items-center">
          <svg className="animate-spin -ml-1 mr-2 h-4 w-4" viewBox="0 0 24 24">
            {/* ã‚¹ãƒ”ãƒŠãƒ¼SVG */}
          </svg>
          å‡¦ç†ä¸­...
        </span>
      ) : (
        children
      )}
    </button>
  );
}
```

#### ä½¿ç”¨ä¾‹

```typescript
// âœ… è‰¯ã„ä¾‹
<Button variant="primary" size="md">
  ç™»éŒ²
</Button>

<Button variant="secondary" onClick={handleCancel}>
  ã‚­ãƒ£ãƒ³ã‚»ãƒ«
</Button>

<Button variant="danger" loading={isDeleting}>
  å‰Šé™¤
</Button>
```

---

### 5.3 ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³

```typescript
// Tailwindã®ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã‚’ä½¿ç”¨
<div className="
  grid 
  grid-cols-1       /* ãƒ¢ãƒã‚¤ãƒ«: 1åˆ— */
  md:grid-cols-2    /* ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ: 2åˆ— */
  lg:grid-cols-3    /* ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—: 3åˆ— */
  gap-4
">
  {companies.map(company => (
    <CompanyCard key={company.id} company={company} />
  ))}
</div>

// ãƒ†ã‚­ã‚¹ãƒˆã‚µã‚¤ã‚ºã‚‚ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã«
<h1 className="
  text-2xl     /* ãƒ¢ãƒã‚¤ãƒ«: 24px */
  md:text-3xl  /* ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ: 30px */
  lg:text-4xl  /* ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—: 36px */
  font-bold
">
  {title}
</h1>
```

---

### 5.4 ç¦æ­¢äº‹é …

```typescript
// âŒ æ‚ªã„ä¾‹ï¼šã‚«ã‚¹ã‚¿ãƒ CSSã‚’æ›¸ã
const styles = {
  button: {
    backgroundColor: '#3b82f6',
    padding: '8px 16px',
    borderRadius: '6px'
  }
};

<button style={styles.button}>ã‚¯ãƒªãƒƒã‚¯</button>

// âŒ æ‚ªã„ä¾‹ï¼šCSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
// Button.css
.custom-button {
  background-color: #3b82f6;
  padding: 8px 16px;
  border-radius: 6px;
}

// âœ… è‰¯ã„ä¾‹ï¼šTailwindã®ã¿ä½¿ç”¨
<button className="bg-blue-600 px-4 py-2 rounded-md">
  ã‚¯ãƒªãƒƒã‚¯
</button>
```

---

## 6. å‘½åè¦å‰‡

### 6.1 ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå‘½å

| ç¨®é¡ | å‘½åè¦å‰‡ | ä¾‹ |
|-----|---------|---|
| Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | PascalCase | `CompanyCard.tsx` |
| Hooks | camelCase (useã€œ) | `useCompanies.ts` |
| Utils | camelCase | `normalizeCompanyName.ts` |
| Types | camelCase | `company.ts` |
| Constants | camelCase | `eventTypes.ts` |
| ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | kebab-case or camelCase | `companies/` |

---

### 6.2 å¤‰æ•°ãƒ»é–¢æ•°å‘½å

#### å¤‰æ•°

```typescript
// âœ… è‰¯ã„ä¾‹ï¼šæ„å‘³ã®ã‚ã‚‹åå‰
const companyName = 'æ ªå¼ä¼šç¤¾ã€‡ã€‡';
const isLoading = false;
const hasError = true;
const userList = [];

// âŒ æ‚ªã„ä¾‹ï¼šçœç•¥ã—ã™ã
const cn = 'æ ªå¼ä¼šç¤¾ã‚³ãƒ‰ãƒ¢ãƒ³';
const flg = false;
const list = [];
```

#### ãƒ–ãƒ¼ãƒ«å€¤

```typescript
// âœ… è‰¯ã„ä¾‹ï¼šis/has/can ã§å§‹ã‚ã‚‹
const isLoading = true;
const hasError = false;
const canEdit = true;
const shouldUpdate = false;

// âŒ æ‚ªã„ä¾‹
const loading = true;  // isLoading ã®æ–¹ãŒæ˜ç¢º
const error = false;   // hasError ã®æ–¹ãŒæ˜ç¢º
```

#### é–¢æ•°

```typescript
// âœ… è‰¯ã„ä¾‹ï¼šå‹•è©ã§å§‹ã‚ã‚‹
function fetchCompanies() { }
function createEvent() { }
function updateProfile() { }
function deleteCompany() { }

// ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼
function handleClick() { }
function handleSubmit() { }
function handleInputChange() { }

// âœ… è‰¯ã„ä¾‹ï¼šãƒ–ãƒ¼ãƒ«å€¤ã‚’è¿”ã™é–¢æ•°
function isValidEmail(email: string): boolean { }
function hasPermission(user: User): boolean { }
function canDelete(item: Item): boolean { }
```

#### å®šæ•°

```typescript
// âœ… è‰¯ã„ä¾‹ï¼šUPPER_SNAKE_CASE
const MAX_RETRY_COUNT = 3;
const API_BASE_URL = 'https://api.example.com';
const DEFAULT_PAGE_SIZE = 20;

// âœ… è‰¯ã„ä¾‹ï¼šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å®šæ•°
const EVENT_TYPES = {
  FIRST_INTERVIEW: 'ä¸€æ¬¡é¢æ¥',
  SECOND_INTERVIEW: 'äºŒæ¬¡é¢æ¥',
  FINAL_INTERVIEW: 'æœ€çµ‚é¢æ¥',
} as const;
```

---

### 6.3 å‹å‘½å

```typescript
// âœ… è‰¯ã„ä¾‹ï¼šæ˜ç¢ºãªå‹å
interface Company {
  id: string;
  companyName: string;
}

type EventType = 'ä¸€æ¬¡é¢æ¥' | 'äºŒæ¬¡é¢æ¥' | 'æœ€çµ‚é¢æ¥';

interface CreateCompanyRequest {
  companyName: string;
}

interface CreateCompanyResponse {
  success: boolean;
  companyId?: string;
}

// Propså‹ã¯ ComponentNameProps
interface CompanyCardProps {
  company: Company;
  onDetail: (id: string) => void;
}
```

---

## 7. ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### 7.1 ãƒ†ã‚¹ãƒˆã®ç¨®é¡

| ãƒ†ã‚¹ãƒˆãƒ¬ãƒ™ãƒ« | ãƒ„ãƒ¼ãƒ« | å¯¾è±¡ | å®Ÿè£…å„ªå…ˆåº¦ |
|------------|-------|------|-----------|
| ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ | Jest | Utils, Hooks | v2.0 |
| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ | React Testing Library | Components | v2.0 |
| çµ±åˆãƒ†ã‚¹ãƒˆ | Jest + Emulator | Functions | v2.0 |
| E2Eãƒ†ã‚¹ãƒˆ | Playwright | å…¨ä½“ãƒ•ãƒ­ãƒ¼ | v2.5 |

---

### 7.2 ãƒ†ã‚¹ãƒˆä¾‹ï¼ˆå°†æ¥å®Ÿè£…ï¼‰

#### ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã®ãƒ†ã‚¹ãƒˆ

```typescript
// src/utils/__tests__/normalizeCompanyName.test.ts

import { normalizeCompanyName } from '../normalizeCompanyName';

describe('normalizeCompanyName', () => {
  it('æ ªå¼ä¼šç¤¾ã‚’é™¤å»ã™ã‚‹', () => {
    expect(normalizeCompanyName('æ ªå¼ä¼šç¤¾ã€‡ã€‡')).toBe('ã€‡ã€‡');
  });
  
  it('å¤§æ–‡å­—ã‚’å°æ–‡å­—ã«å¤‰æ›ã™ã‚‹', () => {
    expect(normalizeCompanyName('CODMON')).toBe('codmon');
  });
  
  it('ã‚¹ãƒšãƒ¼ã‚¹ã‚’é™¤å»ã™ã‚‹', () => {
    expect(normalizeCompanyName('ã‚³ ãƒ‰ ãƒ¢ ãƒ³')).toBe('ã“ã©ã‚‚ã‚“');
  });
  
  it('è¨˜å·ã‚’é™¤å»ã™ã‚‹', () => {
    expect(normalizeCompanyName('ã‚³ãƒ‰ãƒ¢ãƒ³ã€‚')).toBe('ã“ã©ã‚‚ã‚“');
  });
});
```

#### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆ

```typescript
// src/components/companies/__tests__/CompanyCard.test.tsx

import { render, screen, fireEvent } from '@testing-library/react';
import CompanyCard from '../CompanyCard';

const mockCompany = {
  id: 'company_123',
  companyName: 'æ ªå¼ä¼šç¤¾ã€‡ã€‡',
  // ... ä»–ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
};

describe('CompanyCard', () => {
  it('ä¼æ¥­åãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {
    render(<CompanyCard company={mockCompany} onDetail={() => {}} />);
    expect(screen.getByText('æ ªå¼ä¼šç¤¾ã€‡ã€‡')).toBeInTheDocument();
  });
  
  it('è©³ç´°ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨onDetailãŒå‘¼ã°ã‚Œã‚‹', () => {
    const onDetail = jest.fn();
    render(<CompanyCard company={mockCompany} onDetail={onDetail} />);
    
    fireEvent.click(screen.getByText('è©³ç´°'));
    expect(onDetail).toHaveBeenCalledWith('company_123');
  });
});
```

---

## 8. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### 8.1 Reactæœ€é©åŒ–

#### React.memo

```typescript
// âœ… è‰¯ã„ä¾‹ï¼šé »ç¹ã«å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
import { memo } from 'react';

const CompanyCard = memo(function CompanyCard({ company, onDetail }: Props) {
  return (
    <div onClick={() => onDetail(company.id)}>
      {company.companyName}
    </div>
  );
});

export default CompanyCard;
```

#### useMemo / useCallback

```typescript
function CompanyList({ companies }: Props) {
  // âœ… è‰¯ã„ä¾‹ï¼šè¨ˆç®—ã‚³ã‚¹ãƒˆãŒé«˜ã„å‡¦ç†ã‚’ãƒ¡ãƒ¢åŒ–
  const sortedCompanies = useMemo(() => {
    return [...companies].sort((a, b) => 
      b.createdAt.localeCompare(a.createdAt)
    );
  }, [companies]);
  
  // âœ… è‰¯ã„ä¾‹ï¼šå­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æ¸¡ã™é–¢æ•°ã‚’ãƒ¡ãƒ¢åŒ–
  const handleDetail = useCallback((id: string) => {
    navigate(`/companies/${id}`);
  }, [navigate]);
  
  return (
    <div>
      {sortedCompanies.map(company => (
        <CompanyCard 
          key={company.id} 
          company={company} 
          onDetail={handleDetail} 
        />
      ))}
    </div>
  );
}
```

---

### 8.2 ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºæœ€é©åŒ–

#### Dynamic Import

```typescript
// âœ… è‰¯ã„ä¾‹ï¼šå¤§ããªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’é…å»¶ãƒ­ãƒ¼ãƒ‰
import { lazy, Suspense } from 'react';

const TrendsPage = lazy(() => import('./pages/TrendsPage'));

function App() {
  return (
    <Suspense fallback={<Loading />}>
      <Routes>
        <Route path="/trends" element={<TrendsPage />} />
      </Routes>
    </Suspense>
  );
}
```

#### Tree Shaking

```typescript
// âœ… è‰¯ã„ä¾‹ï¼šå¿…è¦ãªé–¢æ•°ã®ã¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
import { collection, query, getDocs } from 'firebase/firestore';

// âŒ æ‚ªã„ä¾‹ï¼šå…¨ã¦ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
import * as firestore from 'firebase/firestore';
```

---

### 8.3 Firestoreæœ€é©åŒ–

#### è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹

```javascript
// firestore.indexes.json
{
  "indexes": [
    {
      "collectionGroup": "events",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "companyId", "order": "ASCENDING" },
        { "fieldPath": "date", "order": "ASCENDING" }
      ]
    }
  ]
}
```

#### ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³

```typescript
// âœ… è‰¯ã„ä¾‹ï¼šlimit()ã‚’ä½¿ç”¨
const q = query(
  collection(db, 'users', userId, 'companies'),
  orderBy('createdAt', 'desc'),
  limit(20)  // æœ€åˆã®20ä»¶ã®ã¿å–å¾—
);

const snapshot = await getDocs(q);
```

---

## 9. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 9.1 ç’°å¢ƒå¤‰æ•°ç®¡ç†

```typescript
// âœ… è‰¯ã„ä¾‹ï¼šç’°å¢ƒå¤‰æ•°ã®ä½¿ç”¨
const apiKey = import.meta.env.VITE_FIREBASE_API_KEY;

// âŒ æ‚ªã„ä¾‹ï¼šãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰
const apiKey = 'AIzaSyC1234567890abcdefg';
```

---

### 9.2 XSSå¯¾ç­–

```typescript
// âœ… è‰¯ã„ä¾‹ï¼šReactãŒè‡ªå‹•çš„ã«ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—
<div>{userInput}</div>

// âŒ æ‚ªã„ä¾‹ï¼šdangerouslySetInnerHTMLã¯é¿ã‘ã‚‹
<div dangerouslySetInnerHTML={{ __html: userInput }} />
```

---

### 9.3 èªè¨¼ãƒã‚§ãƒƒã‚¯

```typescript
// âœ… è‰¯ã„ä¾‹ï¼šProtectedRoute
function ProtectedRoute({ children }: { children: ReactNode }) {
  const { user, loading } = useAuth();
  
  if (loading) {
    return <Loading />;
  }
  
  if (!user) {
    return <Navigate to="/login" replace />;
  }
  
  return <>{children}</>;
}

// ä½¿ç”¨ä¾‹
<Route path="/dashboard" element={
  <ProtectedRoute>
    <DashboardPage />
  </ProtectedRoute>
} />
```

---

## 10. Gité‹ç”¨

### 10.1 ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥

```
main (æœ¬ç•ª)
  â””â”€ develop (é–‹ç™º)
       â”œâ”€ feature/company-list (æ©Ÿèƒ½é–‹ç™º)
       â”œâ”€ feature/event-form (æ©Ÿèƒ½é–‹ç™º)
       â””â”€ bugfix/calendar-sync (ãƒã‚°ä¿®æ­£)
```

---

### 10.2 ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

```bash
# âœ… è‰¯ã„ä¾‹ï¼šConventional Commitså½¢å¼
feat: ä¼æ¥­ä¸€è¦§ç”»é¢ã‚’å®Ÿè£…
fix: ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼åŒæœŸã®ãƒã‚°ã‚’ä¿®æ­£
docs: READMEã«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ã‚’è¿½åŠ 
refactor: ä¼æ¥­åæ­£è¦åŒ–ãƒ­ã‚¸ãƒƒã‚¯ã‚’ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
test: useCompaniesã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
chore: Tailwind CSSã®è¨­å®šã‚’æ›´æ–°

# âŒ æ‚ªã„ä¾‹
ä¿®æ­£
update
å¤‰æ›´ã—ã¾ã—ãŸ
```

**ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ:**
```
<type>: <subject>

<body>ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

<footer>ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
```

**typeä¸€è¦§:**
- `feat`: æ–°æ©Ÿèƒ½
- `fix`: ãƒã‚°ä¿®æ­£
- `docs`: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- `style`: ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆæ©Ÿèƒ½ã«å½±éŸ¿ãªã—ï¼‰
- `refactor`: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- `test`: ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£
- `chore`: ãƒ“ãƒ«ãƒ‰ã€è¨­å®šå¤‰æ›´

---

## 11. ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### 11.1 ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒã‚¤ãƒ³ãƒˆ

#### æ©Ÿèƒ½æ€§
- [ ] è¦ä»¶é€šã‚Šã«å‹•ä½œã™ã‚‹ã‹
- [ ] ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã‚’è€ƒæ…®ã—ã¦ã„ã‚‹ã‹
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒé©åˆ‡ã‹

#### ã‚³ãƒ¼ãƒ‰å“è³ª
- [ ] å‘½åè¦å‰‡ã«å¾“ã£ã¦ã„ã‚‹ã‹
- [ ] DRYåŸå‰‡ã«å¾“ã£ã¦ã„ã‚‹ã‹
- [ ] é©åˆ‡ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] å‹å®šç¾©ãŒé©åˆ‡ã‹

#### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- [ ] ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒãªã„ã‹
- [ ] ãƒ¡ãƒ¢åŒ–ãŒå¿…è¦ãªç®‡æ‰€ã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ã‹
- [ ] Firestoreã‚¯ã‚¨ãƒªãŒæœ€é©åŒ–ã•ã‚Œã¦ã„ã‚‹ã‹

#### ã‚¹ã‚¿ã‚¤ãƒ«
- [ ] Tailwind CSSã®ã¿ä½¿ç”¨ã—ã¦ã„ã‚‹ã‹
- [ ] ã‚«ã‚¹ã‚¿ãƒ CSSã‚’æ›¸ã„ã¦ã„ãªã„ã‹
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã—ã¦ã„ã‚‹ã‹

#### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‚’é©åˆ‡ã«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã—ã¦ã„ã‚‹ã‹
- [ ] èªè¨¼ãƒã‚§ãƒƒã‚¯ãŒé©åˆ‡ã‹
- [ ] ç’°å¢ƒå¤‰æ•°ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã‹

---

## 12. é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 12.1 å¿…è¦ãªãƒ„ãƒ¼ãƒ«

```bash
# Node.js (v18ä»¥ä¸Š)
node --version

# Firebase CLI
npm install -g firebase-tools
firebase --version

# ã‚¨ãƒ‡ã‚£ã‚¿: VSCodeæ¨å¥¨
```

---

### 12.2 VSCodeæ‹¡å¼µæ©Ÿèƒ½ï¼ˆæ¨å¥¨ï¼‰

```json
{
  "recommendations": [
    "dbaeumer.vscode-eslint",           // ESLint
    "esbenp.prettier-vscode",           // Prettier
    "bradlc.vscode-tailwindcss",        // Tailwind CSS IntelliSense
    "firebase.vscode-firebase-explorer", // Firebase Explorer
    "ms-vscode.vscode-typescript-next"  // TypeScript
  ]
}
```

---

### 12.3 VSCodeè¨­å®š

```json
// .vscode/settings.json
{
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "typescript.tsdk": "node_modules/typescript/lib",
  "tailwindCSS.experimental.classRegex": [
    ["clsx\\(([^)]*)\\)", "(?:'|\"|`)([^']*)(?:'|\"|`)"]
  ]
}
```

---

## 13. ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºç­–

### 13.1 Firestore Emulatoræ¥ç¶šã‚¨ãƒ©ãƒ¼

**å•é¡Œ:**
```
FirebaseError: Could not reach Cloud Firestore backend
```

**è§£æ±ºç­–:**
```typescript
// firebase.ts ã§ Emulatoræ¥ç¶šã‚’ç¢ºèª
if (process.env.NODE_ENV === 'development') {
  connectFirestoreEmulator(db, 'localhost', 8080);
  connectAuthEmulator(auth, 'http://localhost:9099');
  connectFunctionsEmulator(functions, 'localhost', 5001);
}
```

---

### 13.2 Tailwind ã‚¯ãƒ©ã‚¹ãŒåŠ¹ã‹ãªã„

**å•é¡Œ:**
ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ©ã‚¹ãŒåæ˜ ã•ã‚Œãªã„

**è§£æ±ºç­–:**
```javascript
// tailwind.config.js ã§ content ã‚’æ­£ã—ãè¨­å®š
module.exports = {
  content: [
    "./src/**/*.{js,jsx,ts,tsx}",
  ],
  theme: {
    extend: {},
  },
  plugins: [],
}
```

---

### 13.3 å‹ã‚¨ãƒ©ãƒ¼

**å•é¡Œ:**
```
Property 'xxx' does not exist on type 'unknown'
```

**è§£æ±ºç­–:**
```typescript
// å‹ã‚¬ãƒ¼ãƒ‰ã‚’ä½¿ç”¨
if (isCompanyData(data)) {
  console.log(data.companyName); // å‹å®‰å…¨
}
```

---

## 14. ã¾ã¨ã‚

ã“ã®å®Ÿè£…ã‚¬ã‚¤ãƒ‰ã¯ã€Job Mete v1.5ã®é–‹ç™ºã«ãŠã‘ã‚‹å…¨ã¦ã®è¦ç´„ãƒ»ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒ»ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’ç¶²ç¾…ã—ã¦ã„ã¾ã™ã€‚

### é‡è¦ãªåŸå‰‡

1. **çµ±ä¸€æ„Ÿ**: å…¨ã¦ã®ã‚³ãƒ¼ãƒ‰ã§åŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ç”¨
2. **Tailwind Only**: ã‚«ã‚¹ã‚¿ãƒ CSSã¯æ›¸ã‹ãªã„
3. **å‹å®‰å…¨æ€§**: TypeScriptã‚’æœ€å¤§é™æ´»ç”¨
4. **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†é›¢**: é©åˆ‡ãªç²’åº¦ã§åˆ†å‰²
5. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: å¿…è¦ãªç®‡æ‰€ã§ãƒ¡ãƒ¢åŒ–

ã“ã®ã‚¬ã‚¤ãƒ‰ã«å¾“ã†ã“ã¨ã§ã€ä¿å®ˆæ€§ãŒé«˜ãã€æ‹¡å¼µã—ã‚„ã™ã„ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚’ç¶­æŒã§ãã¾ã™ã€‚